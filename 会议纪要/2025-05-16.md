# 2025-5-16会议纪要

## 内容概述

1. 对比不同软件体系结构风格，明确本项目的适用风格。
2. 研究经典案例KWIC，分析其模块分解与风格选择。
3. 完善项目的软件体系结构文档（SAD），更新开发进度跟踪表。

## 会议内容

### 一、项目体系结构风格

本项目采用客户-服务器体系结构风格。客户端通过HTTP/HTTPS协议向服务器发起请求（如GET/POST），接收服务器返回的JSON/XML数据并动态渲染页面，通过Session维持用户状态（如登录态）。服务器负责接收客户端请求，验证权限，执行业务逻辑（如订单生成、数据分析），访问数据库读写数据，返回结构化数据。

在数据流与通信方面，本项目采用请求-响应模式，即客户端发起请求，服务器处理并返回响应，而且服务器不保存客户端上下文（除Session外），每次请求独立处理，所有数据存储在中心数据库，客户端无本地持久化。

### 二、KWIC

#### 1.KWIC系统简介

KWIC是一种经典的索引系统，由Parnas在1972年提出，用于研究软件模块化设计和体系结构风格。其核心功能包括：

（1）输入：接收若干行文本（每行由若干单词组成）。

（2）循环移位：对每行进行循环移位（如 "The sun rises" → "sun rises The" → "rises The sun"）。

（3）排序：按字母顺序排列所有移位后的行。

（4）输出：生成有序的索引列表。

#### 2.KWIC的体系结构风格对比

KWIC可以使用多种体系结构风格实现，每种风格在可修改性、复用性、性能等方面表现不同。

（1）主程序-子程序风格

架构特点：

- 系统分解为输入、移位、排序、输出四个子程序。
- 主程序按顺序调用子程序，数据通过共享存储区传递。

优点：

- 流程清晰，易于理解。
- 性能较高（数据直接共享）。

缺点：

- 数据表示变更困难，所有模块依赖存储格式。
- 复用性差，模块耦合度高。

（2） 面向对象风格

架构特点：

- 封装数据和行为，如 `Input`、`CircularShifter`、`Alphabetizer`、`Output` 类。
- 通过方法调用交互，避免直接数据共享。

优点：

- 数据表示变更灵活，封装降低影响范围。
- 支持复用，类可独立使用。

缺点：

- 功能扩展受限，新增功能需修改现有类或增加新类。

（3）管道-过滤器风格

架构特点：

- 系统分解为输入、移位、排序、输出四个过滤器。
- 数据通过管道流动，过滤器独立处理。

优点：

- 高可修改性，可插入新过滤器。
- 高复用性，过滤器可独立部署。

缺点：

- 性能较低，数据复制开销。
- 不适合交互式系统，无法支持动态删除行。

（3）事件驱动风格

架构特点：

- 数据变更触发事件（如 `LineStorage` 修改后自动调用 `CircularShifter`）。
- 计算模块隐式调用，而非显式控制。

优点：

- 易于扩展，新模块可注册事件。
- 数据与计算解耦。

缺点：

- 执行顺序难以控制。
- 空间占用高，事件队列管理。

（4）综合对比

| **风格**          | **可修改性** | **复用性** | **性能** | **适用场景**             |
| :---------------- | :----------- | :--------- | :------- | :----------------------- |
| **主程序-子程序** | 低           | 低         | 高       | 简单、稳定的批处理系统   |
| **面向对象**      | 中           | 中         | 中       | 中等复杂度系统           |
| **管道-过滤器**   | 高           | 高         | 低       | 数据流处理（如日志分析） |
| **事件驱动**      | 高           | 高         | 中       | 需要动态扩展的系统       |
